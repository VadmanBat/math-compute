#include "../../../include/nrcki/scheme.h"

#include "blocks/switches/toggle-switch.hpp"

namespace nrcki {
/**
 * Добавляет ключ-переключатель входов (ToggleSwitch) на схему.
 *
 * Блок имеет три входа:
 *   - Вход 1: первый сигнал (сигнал A)
 *   - Вход 2: второй сигнал (сигнал B)
 *   - Вход 3: управляющий сигнал (ключ переключения)
 *
 * Логика работы:
 *   - Если управляющий сигнал (вход 3) = 0, выход = вход 1 (сигнал A)
 *   - Если управляющий сигнал (вход 3) != 0, выход = вход 2 (сигнал B)
 *
 * Применение:
 * <ul>
 *   <li>переключение между источниками сигнала (ручной/автоматический режим);</li>
 *   <li>выбор между основным и резервным каналом;</li>
 *   <li>реализация простых логических переключателей в системах управления;</li>
 *   <li>аварийное переключение на альтернативную систему.</li>
 * </ul>
 */
void Scheme::addToggleSwitch() {
    ++blocks_count;
    blocks.push_back(std::make_unique <ToggleSwitch>(*this));
}
}